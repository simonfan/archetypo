//     archetypo
//     (c) simonfan
//     archetypo is licensed under the MIT terms.

define("__archetypo/view/sub-views",["require","exports","module","lodash","jquery"],function(t,e,i){var o=t("lodash"),r=t("jquery");i.exports=function(t,e){var i=e.find("[data-arch-view]");o.each(i,o.bind(function(e){var i=r(e),o=i.data(),n=t.constructor("view",o.archView);o.el=i,o.app=t,o.instances=this.instances,o.constructors=this.constructors,n(o)},this))}}),define("__archetypo/view/index",["require","exports","module","lodash","dockable-view","./sub-views"],function(t,e,i){{var o=t("lodash"),r=t("dockable-view"),n=t("./sub-views");i.exports=r.extend(function(t){this.$el=o.isObject(t.$el)?t.$el:o.isObject(t.el)?t.el:$("<div></div>");var e=t.html||this.html;e&&this.$el.html(e);var i=t.app||this.app;n.call(this,i,this.$el);var s=this.$el.data("arch-id")||this.$el.prop("id")||this.cid;i.instance(s,this),r.prototype.initialize.apply(this,arguments)})}}),define("archetypo",["require","exports","module","subject","lowercase-backbone","q","./__archetypo/view/index"],function(t,e,i){var o=(t("subject"),t("lowercase-backbone")),r=(t("q"),t("./__archetypo/view/index")),n=i.exports=o.router.extend(function(){this.constructors={view:{"default":r},model:{},collection:{}},this.instances={view:{},model:{},collection:{},router:{}}});n.proto({constructor:function(t,e,i){var o=this.constructors[t],r=o[e]||o["default"];return 3===arguments.length?(i.app=this,o[e]=r.extend(i)):2===arguments.length?r:void 0},instance:function(t,e,i){var o=this.instances[t];return 3===arguments.length&&(o[e]=i),o[e]},build:function(t){var e=this.constructor("view","default");return e({$el:t,app:this}),this},start:function(t){return o.history.start(t),this}}),n.proto({view:_.partial(n.prototype.instance,"view"),model:_.partial(n.prototype.instance,"model"),collection:_.partial(n.prototype.instance,"collection")})});